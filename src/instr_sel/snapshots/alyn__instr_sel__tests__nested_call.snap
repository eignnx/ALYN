---
source: src/instr_sel/mod.rs
expression: "compile_to_lark(\"\n            subr add3(a: nat, b: nat, c: nat) nat {\n                ret a + b + c;\n            }\n\n            subr main() nat {\n                ret add3(1, add3(9, 8, 7), 2 + 3);\n            }\n        \")"
---
[
    subr__add3:,
    add %binop_res.0, %b, %c,
    add $rv, %a, %binop_res.0,
    jr $ra,
    subr__main:,
    li %li_nat.3, 9,
    mv $a0, %li_nat.3,
    li %li_nat.4, 8,
    mv $a1, %li_nat.4,
    li %li_nat.5, 7,
    mv $a2, %li_nat.5,
    jal $ra, subr__add3,
    mv %ret_val.1, $rv,
    li %li_nat.6, 1,
    mv $a0, %li_nat.6,
    mv $a1, %ret_val.1,
    li %li_nat.8, 2,
    addi %imm_binop_res.7, %li_nat.8, 3,
    mv $a2, %imm_binop_res.7,
    jal $ra, subr__add3,
    mv %ret_val.2, $rv,
    jr $ra,
]
